<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>CDT++: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CDT++
   </div>
   <div id="projectbrief">Causal Dynamical Triangulations in C++ using CGAL</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">CDT++ Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>Quantize spacetime on your laptop.</b></p>
<p><a href="http://arxiv.org/abs/hep-th/0105267">Causal Dynamical Triangulations</a> in C++ using the <a href="http://www.cgal.org">Computational Geometry Algorithms Library</a> and <a href="http://eigen.tuxfamily.org/index.php?title=Main_Page">Eigen</a>&gt;3.1.0, compiled with <a href="http://www.cmake.org">CMake</a> using <a href="http://clang.llvm.org">Clang</a>/<a href="http://llvm.org">LLVM</a>. Arbitrary-precision numbers and functions by <a href="http://www.mpfr.org">MPFR</a> and <a href="https://gmplib.org">GMP</a>. <a href="https://github.com/docopt/docopt.cpp">Docopt</a> provides a beautiful command-line interface. <a href="https://github.com/google/googletest/tree/master/googlemock">Gmock 1.7</a> may be optionally installed in order to build/run unit tests. <a href="https://martine.github.io/ninja/">Ninja</a> is a nice (but optional) replacement for <code>make</code>. Intel's <a href="https://www.threadingbuildingblocks.org">TBB</a> provides significantly better performance if present (3x+). Follows (mostly) the <a href="https://google.github.io/styleguide/cppguide.html">Google C++ Style Guide</a>, which you can check by downloading and running the <a href="http://google-styleguide.googlecode.com/svn/trunk/cpplint/cpplint.py">cpplint.py</a> script:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# python cpplint.py &lt;filename&gt;</div>
</div><!-- fragment --><p>The goals and targets of this project are:</p>
<ul>
<li>[x] Developed with <a href="http://www.literateprogramming.com">literate programming</a> generated using <a href="http://www.doxygen.org">Doxygen</a></li>
<li>[x] <a href="http://blog.knatten.org/2012/11/02/efficient-pure-functional-programming-in-c-using-move-semantics/">Efficient Pure Functional Programming in C++ Using Move Semantics</a></li>
<li>[x] Validation tests using <a href="http://cmake.org/Wiki/CMake/Testing_With_CTest">CTest</a></li>
<li>[x] Unit tests with <a href="https://github.com/google/googletest/tree/master/googlemock">Gmock</a></li>
<li>[x] Test builds with <a href="http://about.travis-ci.org/docs/user/getting-started/">Travis CI</a></li>
<li>[x] 3D Simplex</li>
<li>[x] 3D Spherical triangulation</li>
<li>[x] 2+1 foliation</li>
<li>[x] Integrate <a href="https://github.com/docopt/docopt.cpp">docopt</a> CLI</li>
<li>[x] S3 Bulk action</li>
<li>[x] 3D Ergodic moves</li>
<li>[x] <a href="https://www.threadingbuildingblocks.org">TBB</a> multithreading</li>
<li>[ ] <a class="el" href="class_metropolis.html" title="Metropolis-Hastings algorithm functor. ">Metropolis</a> algorithm</li>
<li>[ ] 4D Simplex</li>
<li>[ ] 4D Spherical triangulation</li>
<li>[ ] 3+1 foliation</li>
<li>[ ] S4 Bulk action</li>
<li>[ ] 4D Ergodic moves</li>
<li>[ ] Initialize two masses</li>
<li>[ ] Shortest path algorithm</li>
<li>[ ] Einstein tensor</li>
<li>[ ] Complete test coverage</li>
<li>[ ] Complete documentation</li>
<li>[ ] <a href="http://www.hdfgroup.org/HDF5/">HDF5</a> output</li>
<li>[ ] ???</li>
<li>[ ] (Non)profit</li>
</ul>
<h2>Prerequisites: </h2>
<p><a href="https://github.com/acgetchell/CDT-plusplus">CDT++</a> should build on any system (e.g. Linux, MacOS, Windows) with <a href="http://www.cmake.org/cmake/help/install.html">CMake</a>, <a href="http://www.cgal.org/Manual/latest/doc_html/installation_manual/Chapter_installation_manual.html">CGAL</a>, and <a href="http://eigen.tuxfamily.org/index.php?title=Main_Page">Eigen</a> installed. <a href="https://github.com/google/googletest/tree/master/googlemock">Gmock</a> is optional for running the unit tests, and <a href="https://martine.github.io/ninja/">Ninja</a> is an optional replacement for <code>make</code> which provides quick parallel builds of the unit tests.</p>
<p>On MacOS, the easiest way to do this is with <a href="http://brew.sh">HomeBrew</a>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# brew install cmake</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;# brew install eigen</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;# brew install cgal --imaging --with-eigen3 --with-lapack</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;# brew install ninja</div>
</div><!-- fragment --><p>On Ubuntu, you can do this via: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# sudo apt-get install cmake</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;# sudo apt-get install libeigen3-dev</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;# sudo apt-get install libcgal-dev</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;# sudo apt-get install ninja-build</div>
</div><!-- fragment --><h2>Build: </h2>
<p>This project uses a separate build directory, which allows you to rebuild the project without cluttering the source code. Thus, download this source code (clone this repo from GitHub or grab a zipped archive <a href="https://github.com/acgetchell/CDT-plusplus/archive/master.zip">here</a>) and run the following commands in the top-level directory:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# mkdir build</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;# cd build</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;# cmake ..</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;# make</div>
</div><!-- fragment --><p>(Or run <a href="https://github.com/acgetchell/CDT-plusplus/blob/master/build.sh">build.sh</a>) if you have <a href="https://martine.github.io/ninja/">Ninja</a> installed.</p>
<p>This should result in the main program executable, <code>cdt</code> in the build directory.</p>
<p>If you have GMock installed and set <code>GMOCK_TESTS</code> to <b>TRUE</b> (which is the default), the unit test executable, <code>unittests</code>, will also be present. See the section on Tests for details.</p>
<p>If you are not interested in the unit tests and only want to run the program, set <code>GMOCK_TESTS</code> in <a href="https://github.com/acgetchell/CDT-plusplus/blob/master/CMakeLists.txt">CMakeLists.txt</a> to <b>FALSE</b>.</p>
<p>For some versions of Linux, you may have to build CGAL from source. Follow the instructions (or their equivalent) given in the install section of the <a href="https://github.com/acgetchell/CDT-plusplus/blob/master/.travis.yml">.travis.yml</a> buildfile.</p>
<p>There are enough unit tests that it's worthwhile doing fast parallel builds. <a href="https://martine.github.io/ninja/">Ninja</a> is just the ticket. It's effectively a drop-in replacement for <code>make</code>, and works nicely because CMake generates the build files. There's quite a difference in speed.</p>
<p>Basically, everywhere you see <code>make</code> you can type <code>ninja</code> instead. Again, see <a href="https://github.com/acgetchell/CDT-plusplus/blob/master/build.sh">build.sh</a> for an example.</p>
<h2>Possible build troubles: </h2>
<ul>
<li>While running <code>build.sh</code> under linux with <code>gcc</code> you may encounter <code>virtual memory exhausted: Cannot allocate memory</code>, common solution for which is to <a href="http://www.cyberciti.biz/faq/linux-add-a-swap-file-howto/">allocate swap space</a>.</li>
</ul>
<h2>Usage: </h2>
<p>CDT-plusplus uses <a href="https://github.com/docopt/docopt.cpp">docopt</a> to parse options from the help message, and so understands long or short argument formats, provided the short argument given is an unambigous match to a longer one. The help message should be instructive:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# ./build/cdt --help</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;Causal Dynamical Triangulations in C++ using CGAL.</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;Copyright (c) 2014, 2015 Adam Getchell</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;A program that generates d-dimensional triangulated spacetimes</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;with a defined causal structure and evolves them according</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;to the Metropolis algorithm. Specify the number of passes to control</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;how much evolution is desired. Each pass attempts a number of ergodic</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;moves equal to the number of simplices in the simulation.</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;Usage:./cdt (--spherical | --toroidal) -n SIMPLICES -t TIMESLICES [-d DIM] -k K --alpha ALPHA --lambda LAMBDA [-p PASSES] [-o OUTPUT]</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;Examples:</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;./cdt --spherical -n 64000 -t 256 --alpha 1.1 -k 2.2 --lambda 3.3 --passes 1000</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;./cdt --s -n64000 -t256 -a1.1 -k2.2 -l3.3 -p1000</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;Options:</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;  -h --help             Show this message</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;  --version             Show program version</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;  -n SIMPLICES          Approximate number of simplices</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;  -t TIMESLICES         Number of timeslices</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  -d DIM                Dimensionality [default: 3]</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;  -a --alpha ALPHA      Negative squared geodesic length of 1-d timelike edges</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;  -k K                  K = 1/(8*pi*G_newton)</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  -l --lambda LAMBDA    K * Cosmological constant</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  -p --passes PASSES    Number of passes [default: 10]</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  -o --output OUTPUT    Output every n passes [default: 10]</div>
</div><!-- fragment --><p>The dimensionality of the spacetime is such that each slice of spacetime is <code>d-1</code>-dimensional, so setting <code>d=3</code> generates 2 spacelike dimensions and one timelike dimension, with a defined global time foliation. Thus a <code>d</code>-dimensional simplex will have some <code>d-1</code> sub-simplices that are purely spacelike (all on the same timeslice) as well as some that are timelike (span two timeslices). In <a href="http://arxiv.org/abs/hep-th/0105267">CDT</a> we actually care more about the timelike links (in 2+1 spacetime) and the timelike faces (in 3+1 spacetime).</p>
<h2>Documentation: </h2>
<p>Online documentation may be found at <a href="http://www.adamgetchell.org/CDT-plusplus/">http://www.adamgetchell.org/CDT-plusplus/</a></p>
<p>If you have Doxygen installed you can generate the same information by simply typing (at the top level directory, Doxygen will recursively search):</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# doxygen</div>
</div><!-- fragment --><p>This will generate <b>html/</b> and <b>latex/</b> directories which will contain documentation generated from CDT++ source files. <code>USE_MATHJAX</code> has been enabled in <a href="https://github.com/acgetchell/CDT-plusplus/blob/master/Doxyfile">Doxyfile</a> so that the LaTeX formulae can be rendered in the html documentation using <a href="http://www.mathjax.org">MathJax</a>. <code>HAVE_DOT</code> is set to <b>YES</b> which allows various graphs to be autogenerated by Doxygen using <a href="http://www.graphviz.org">GraphViz</a>. If you do not have GraphViz installed, set this option to <b>NO</b>.</p>
<h2>Tests: </h2>
<p><a href="https://github.com/google/googletest/tree/master/googlemock">GMock</a> is optional, but strongly recommended if you want to make changes to or understand the source code in detail. Building the <a href="https://github.com/google/googletest/tree/master/googlemock">GMock</a> <code>unittests</code> executable is set by the <code>GMOCK_TESTS</code> variable in <a href="https://github.com/acgetchell/CDT-plusplus/blob/master/CMakeLists.txt">CMakeLists.txt</a>.</p>
<p>To install Gmock, look at the <a href="https://code.google.com/p/googlemock/source/browse/trunk/README">README</a>. Ubuntu users can just do:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# sudo apt-get install google-mock</div>
</div><!-- fragment --><p>But you may run into trouble because Gmock is the wrong version, or has the wrong compiler flags. I just download and build gmock-1.7 in a local directory.</p>
<p>You should also have the following environment variables set:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;export GMOCK_HOME=&quot;$HOME/gmock-1.7.0&quot;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;export DYLD_FALLBACK_LIBRARY_PATH=$GMOCK_HOME/lib/.libs:$GMOCK_HOME/gtest/lib/.libs:/usr/local/lib:$DYLD_FALLBACK_LIBRARY_PATH</div>
</div><!-- fragment --><p> (Or wherever you built GMOCK and your dynamic libraries for CGAL.)</p>
<p>Unit tests using GMock are then run (in the build directory) via:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# ./unittests</div>
</div><!-- fragment --><p>You can build and run validation tests by typing:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# make test</div>
</div><!-- fragment --><p>Or, if you are using Ninja:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# ninja test</div>
</div><!-- fragment --><p>In addition to the command line output, you can see detailed results in the build/Testing directory which is generated thereby.</p>
<h2>Static Analysis: </h2>
<p>The <a href="https://github.com/acgetchell/CDT-plusplus/blob/master/cppcheck-build.sh">cppcheck-build.sh</a> script runs a quick static analysis using <a href="http://cppcheck.sourceforge.net">cppcheck</a>.</p>
<p>Clang comes with <a href="http://clang-analyzer.llvm.org/scan-build.html">scan-build</a> which can run a much more thorough, but slower static analysis integrated with CMake and Ninja. Simply run the <a href="https://github.com/acgetchell/CDT-plusplus/blob/master/scan-build.sh">scan-build.sh</a> script. Note that this script is somewhat fragile, as it depends upon the version of llvm installed, and links directly to those directories without helpful symlinks to abstract version numbers away.</p>
<p>Also, these tools build in DEBUG mode. You should probably not then run unittests as you will get thousands of lines of debugging output from the tests that create large triangulations. (You could use **&ndash;gtest_filter** to run just the tests that you want.) </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Nov 4 2015 17:37:39 for CDT++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
